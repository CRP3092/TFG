{"ast":null,"code":"import React,{useState}from\"react\";import{useNavigate}from\"react-router-dom\";import config from\"../utils/config\";import\"../styles/styles.css\";import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const Register=()=>{const[user,setUser]=useState({name:\"\",email:\"\",address:\"\",password:\"\",avatar:\"\"});const[errorMessage,setErrorMessage]=useState(\"\");const navigate=useNavigate();const handleChange=e=>{setUser({...user,[e.target.name]:e.target.value});};const handleSubmit=async e=>{e.preventDefault();setErrorMessage(\"\");try{const response=await fetch(`${config.API_URL}/register`,{method:\"POST\",headers:{\"Content-Type\":\"application/json\"},body:JSON.stringify(user)});if(!response.ok){const{message}=await response.json();throw new Error(message||\"Error al registrar. IntÃ©ntalo de nuevo.\");}alert(\"Registro exitoso.\");navigate(\"/login\",{replace:true});// âœ… Ahora redirige al login tras el registro\n}catch(error){setErrorMessage(error.message);}};return/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"h2\",{children:\"Registro\"}),errorMessage&&/*#__PURE__*/_jsx(\"p\",{className:\"error-message\",children:errorMessage}),/*#__PURE__*/_jsxs(\"form\",{onSubmit:handleSubmit,children:[/*#__PURE__*/_jsx(\"input\",{type:\"text\",name:\"name\",placeholder:\"Nombre\",onChange:handleChange,required:true}),/*#__PURE__*/_jsx(\"input\",{type:\"email\",name:\"email\",placeholder:\"Correo\",onChange:handleChange,required:true}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",name:\"address\",placeholder:\"Direcci\\xF3n\",onChange:handleChange,required:true}),/*#__PURE__*/_jsx(\"input\",{type:\"password\",name:\"password\",placeholder:\"Contrase\\xF1a\",onChange:handleChange,required:true}),/*#__PURE__*/_jsx(\"button\",{type:\"submit\",children:\"Registrar\"})]}),/*#__PURE__*/_jsxs(\"p\",{children:[\"\\xBFYa tienes cuenta? \",/*#__PURE__*/_jsx(\"a\",{href:\"/login\",children:\"Inicia sesi\\xF3n aqu\\xED\"})]}),\" \"]});};export default Register;","map":{"version":3,"names":["React","useState","useNavigate","config","jsx","_jsx","jsxs","_jsxs","Register","user","setUser","name","email","address","password","avatar","errorMessage","setErrorMessage","navigate","handleChange","e","target","value","handleSubmit","preventDefault","response","fetch","API_URL","method","headers","body","JSON","stringify","ok","message","json","Error","alert","replace","error","children","className","onSubmit","type","placeholder","onChange","required","href"],"sources":["C:/wamp64/www/BlockBuster/frontend/src/components/Register.jsx"],"sourcesContent":["import React, { useState } from \"react\";\r\nimport { useNavigate } from \"react-router-dom\";\r\nimport config from \"../utils/config\";\r\nimport \"../styles/styles.css\";\r\n\r\nconst Register = () => {\r\n  const [user, setUser] = useState({\r\n    name: \"\",\r\n    email: \"\",\r\n    address: \"\",\r\n    password: \"\",\r\n    avatar: \"\"\r\n  });\r\n\r\n  const [errorMessage, setErrorMessage] = useState(\"\");\r\n  const navigate = useNavigate();\r\n\r\n  const handleChange = (e) => {\r\n    setUser({ ...user, [e.target.name]: e.target.value });\r\n  };\r\n\r\n  const handleSubmit = async (e) => {\r\n    e.preventDefault();\r\n    setErrorMessage(\"\");\r\n\r\n    try {\r\n      const response = await fetch(`${config.API_URL}/register`, {\r\n        method: \"POST\",\r\n        headers: { \"Content-Type\": \"application/json\" },\r\n        body: JSON.stringify(user),\r\n      });\r\n\r\n      if (!response.ok) {\r\n        const { message } = await response.json();\r\n        throw new Error(message || \"Error al registrar. IntÃ©ntalo de nuevo.\");\r\n      }\r\n\r\n      alert(\"Registro exitoso.\");\r\n      navigate(\"/login\", { replace: true }); // âœ… Ahora redirige al login tras el registro\r\n    } catch (error) {\r\n      setErrorMessage(error.message);\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div>\r\n      <h2>Registro</h2>\r\n      {errorMessage && <p className=\"error-message\">{errorMessage}</p>}\r\n      <form onSubmit={handleSubmit}>\r\n        <input type=\"text\" name=\"name\" placeholder=\"Nombre\" onChange={handleChange} required />\r\n        <input type=\"email\" name=\"email\" placeholder=\"Correo\" onChange={handleChange} required />\r\n        <input type=\"text\" name=\"address\" placeholder=\"DirecciÃ³n\" onChange={handleChange} required />\r\n        <input type=\"password\" name=\"password\" placeholder=\"ContraseÃ±a\" onChange={handleChange} required />\r\n        <button type=\"submit\">Registrar</button>\r\n      </form>\r\n      <p>Â¿Ya tienes cuenta? <a href=\"/login\">Inicia sesiÃ³n aquÃ­</a></p> {/* ðŸ”¹ Nueva opciÃ³n para usuarios registrados */}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Register;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}
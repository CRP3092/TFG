{"ast":null,"code":"var _jsxFileName = \"C:\\\\wamp64\\\\www\\\\BlockBuster\\\\frontend\\\\src\\\\pages\\\\EditProfile.jsx\",\n  _s = $RefreshSig$();\n// EditProfile.jsx\nimport React, { useState, useEffect } from \"react\";\nimport { useNavigate } from \"react-router-dom\";\nimport config from \"../utils/config\";\nimport \"../styles/editProfile.css\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst EditProfile = () => {\n  _s();\n  const navigate = useNavigate();\n\n  // Estados para datos del usuario, copia original, y modo edición\n  const [userData, setUserData] = useState({\n    name: \"\",\n    email: \"\",\n    address: \"\",\n    avatar: \"\"\n  });\n  const [originalUserData, setOriginalUserData] = useState(null);\n  const [editMode, setEditMode] = useState(false);\n  const [loading, setLoading] = useState(false);\n  const [errorMessage, setErrorMessage] = useState(\"\");\n  const [successMessage, setSuccessMessage] = useState(\"\");\n\n  // Carga de datos: consultar el usuario desde el backend usando la ruta GET de edición\n  useEffect(() => {\n    const loadUser = async () => {\n      const storedUser = localStorage.getItem(\"user\");\n      if (storedUser) {\n        const user = JSON.parse(storedUser);\n        const userId = user.id || user.Id_User;\n        try {\n          const response = await fetch(`${config.API_URL}/api/edit-profile/${userId}`);\n          if (!response.ok) {\n            throw new Error(\"Error al obtener datos desde el servidor\");\n          }\n          const data = await response.json();\n\n          // Revisamos ambos posibles campos para el avatar: data.avatar o data.Avatar\n          const avatarValue = data.avatar || data.Avatar;\n          const finalAvatar = avatarValue && avatarValue !== \"\" && avatarValue !== \"undefined\" ? avatarValue : `${config.API_URL}/uploads/avatars/7309681.jpg`;\n          const fetchedData = {\n            name: data.Name || \"\",\n            email: data.Email || \"\",\n            address: data.Address || \"\",\n            avatar: finalAvatar\n          };\n          setUserData(fetchedData);\n          setOriginalUserData(fetchedData);\n        } catch (error) {\n          setErrorMessage(error.message);\n        }\n      } else {\n        setErrorMessage(\"No se encontró usuario en almacenamiento.\");\n      }\n    };\n    loadUser();\n  }, []);\n\n  // Manejo de los cambios en los inputs\n  const handleChange = e => {\n    const {\n      name,\n      value\n    } = e.target;\n    setUserData(prev => ({\n      ...prev,\n      [name]: value\n    }));\n  };\n\n  // Activa el modo edición sin disparar un submit (preventDefault por seguridad)\n  const handleEdit = e => {\n    e.preventDefault();\n    setEditMode(true);\n  };\n\n  // Cancela la edición, revierte los cambios y evita el comportamiento por defecto\n  const handleCancel = e => {\n    e.preventDefault();\n    setEditMode(false);\n    setUserData(originalUserData);\n    setErrorMessage(\"\");\n    setSuccessMessage(\"\");\n  };\n\n  // Enviar la actualización al backend (solo se procesa en modo edición)\n  const handleSubmit = async e => {\n    e.preventDefault();\n    if (!editMode) return; // Evita que se dispare el submit si no estamos editando\n\n    setLoading(true);\n    setErrorMessage(\"\");\n    setSuccessMessage(\"\");\n    const storedUser = localStorage.getItem(\"user\");\n    if (!storedUser) {\n      setErrorMessage(\"No se encontró el usuario en almacenamiento.\");\n      setLoading(false);\n      return;\n    }\n    const user = JSON.parse(storedUser);\n    const userId = user.id || user.Id_User;\n\n    // Objeto con los datos actualizados (ajusta los nombres según tu backend)\n    const updatedProfile = {\n      Name: userData.name,\n      Email: userData.email,\n      Address: userData.address,\n      avatar: userData.avatar\n    };\n    try {\n      const response = await fetch(`${config.API_URL}/api/edit-profile/${userId}`, {\n        method: \"PUT\",\n        headers: {\n          \"Content-Type\": \"application/json\"\n        },\n        body: JSON.stringify(updatedProfile)\n      });\n      if (!response.ok) {\n        throw new Error(`Error actualizando perfil (Código: ${response.status})`);\n      }\n      const updatedUserData = await response.json();\n      // Normalizamos el usuario, asegurándonos de que la identificación esté en \"id\"\n      const normalizedUser = {\n        id: updatedUserData.id || updatedUserData.Id_User,\n        ...updatedUserData\n      };\n\n      // Actualiza la copia original y guarda en localStorage\n      const newData = {\n        name: normalizedUser.Name || \"\",\n        email: normalizedUser.Email || \"\",\n        address: normalizedUser.Address || \"\",\n        avatar: normalizedUser.avatar && normalizedUser.avatar !== \"\" && normalizedUser.avatar !== \"undefined\" ? normalizedUser.avatar : `${config.API_URL}/uploads/avatars/7309681.jpg`\n      };\n      setOriginalUserData(newData);\n      setUserData(newData);\n      localStorage.setItem(\"user\", JSON.stringify(normalizedUser));\n      setSuccessMessage(\"Perfil actualizado correctamente.\");\n      setEditMode(false);\n      setLoading(false);\n      setTimeout(() => {\n        navigate(`/usuario/${normalizedUser.id}`);\n      }, 1500);\n    } catch (error) {\n      console.error(\"Error actualizando el perfil:\", error);\n      setErrorMessage(error.message);\n      setLoading(false);\n    }\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"edit-profile-container\",\n    children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n      children: \"Editar Perfil\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 161,\n      columnNumber: 7\n    }, this), errorMessage && /*#__PURE__*/_jsxDEV(\"p\", {\n      className: \"error-message\",\n      children: errorMessage\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 162,\n      columnNumber: 24\n    }, this), successMessage && /*#__PURE__*/_jsxDEV(\"p\", {\n      className: \"success-message\",\n      children: successMessage\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 163,\n      columnNumber: 26\n    }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n      onSubmit: handleSubmit,\n      className: \"edit-profile-form\",\n      children: [/*#__PURE__*/_jsxDEV(\"label\", {\n        children: [\"Nombre:\", /*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"text\",\n          name: \"name\",\n          value: userData.name,\n          onChange: handleChange,\n          disabled: !editMode,\n          required: true\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 167,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 165,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n        children: [\"Email:\", /*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"email\",\n          name: \"email\",\n          value: userData.email,\n          onChange: handleChange,\n          disabled: !editMode,\n          required: true\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 178,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 176,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n        children: [\"Direcci\\xF3n:\", /*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"text\",\n          name: \"address\",\n          value: userData.address,\n          onChange: handleChange,\n          disabled: !editMode\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 189,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 187,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n        children: [\"Avatar URL:\", /*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"text\",\n          name: \"avatar\",\n          value: userData.avatar,\n          onChange: handleChange,\n          disabled: !editMode\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 199,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 197,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"avatar-preview\",\n        children: /*#__PURE__*/_jsxDEV(\"img\", {\n          src: userData.avatar,\n          alt: \"Vista previa del avatar\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 208,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 207,\n        columnNumber: 9\n      }, this), !editMode ? /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"action-buttons\",\n        children: /*#__PURE__*/_jsxDEV(\"button\", {\n          type: \"button\",\n          onClick: handleEdit,\n          children: \"Editar\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 215,\n          columnNumber: 13\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 214,\n        columnNumber: 11\n      }, this) : /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"action-buttons\",\n        children: [/*#__PURE__*/_jsxDEV(\"button\", {\n          type: \"submit\",\n          disabled: loading,\n          children: loading ? \"Guardando...\" : \"Guardar Cambios\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 221,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          type: \"button\",\n          onClick: handleCancel,\n          children: \"Cancelar\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 224,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 220,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 164,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 160,\n    columnNumber: 5\n  }, this);\n};\n_s(EditProfile, \"XvDzv3yfuDIrIbrRvYf4bTNdHQM=\", false, function () {\n  return [useNavigate];\n});\n_c = EditProfile;\nexport default EditProfile;\nvar _c;\n$RefreshReg$(_c, \"EditProfile\");","map":{"version":3,"names":["React","useState","useEffect","useNavigate","config","jsxDEV","_jsxDEV","EditProfile","_s","navigate","userData","setUserData","name","email","address","avatar","originalUserData","setOriginalUserData","editMode","setEditMode","loading","setLoading","errorMessage","setErrorMessage","successMessage","setSuccessMessage","loadUser","storedUser","localStorage","getItem","user","JSON","parse","userId","id","Id_User","response","fetch","API_URL","ok","Error","data","json","avatarValue","Avatar","finalAvatar","fetchedData","Name","Email","Address","error","message","handleChange","e","value","target","prev","handleEdit","preventDefault","handleCancel","handleSubmit","updatedProfile","method","headers","body","stringify","status","updatedUserData","normalizedUser","newData","setItem","setTimeout","console","className","children","fileName","_jsxFileName","lineNumber","columnNumber","onSubmit","type","onChange","disabled","required","src","alt","onClick","_c","$RefreshReg$"],"sources":["C:/wamp64/www/BlockBuster/frontend/src/pages/EditProfile.jsx"],"sourcesContent":["// EditProfile.jsx\r\nimport React, { useState, useEffect } from \"react\";\r\nimport { useNavigate } from \"react-router-dom\";\r\nimport config from \"../utils/config\";\r\nimport \"../styles/editProfile.css\";\r\n\r\nconst EditProfile = () => {\r\n  const navigate = useNavigate();\r\n\r\n  // Estados para datos del usuario, copia original, y modo edición\r\n  const [userData, setUserData] = useState({\r\n    name: \"\",\r\n    email: \"\",\r\n    address: \"\",\r\n    avatar: \"\",\r\n  });\r\n  const [originalUserData, setOriginalUserData] = useState(null);\r\n  const [editMode, setEditMode] = useState(false);\r\n  const [loading, setLoading] = useState(false);\r\n  const [errorMessage, setErrorMessage] = useState(\"\");\r\n  const [successMessage, setSuccessMessage] = useState(\"\");\r\n\r\n  // Carga de datos: consultar el usuario desde el backend usando la ruta GET de edición\r\n  useEffect(() => {\r\n    const loadUser = async () => {\r\n      const storedUser = localStorage.getItem(\"user\");\r\n      if (storedUser) {\r\n        const user = JSON.parse(storedUser);\r\n        const userId = user.id || user.Id_User;\r\n        try {\r\n          const response = await fetch(\r\n            `${config.API_URL}/api/edit-profile/${userId}`\r\n          );\r\n          if (!response.ok) {\r\n            throw new Error(\"Error al obtener datos desde el servidor\");\r\n          }\r\n          const data = await response.json();\r\n\r\n          // Revisamos ambos posibles campos para el avatar: data.avatar o data.Avatar\r\n          const avatarValue = data.avatar || data.Avatar;\r\n          const finalAvatar =\r\n            avatarValue && avatarValue !== \"\" && avatarValue !== \"undefined\"\r\n              ? avatarValue\r\n              : `${config.API_URL}/uploads/avatars/7309681.jpg`;\r\n\r\n          const fetchedData = {\r\n            name: data.Name || \"\",\r\n            email: data.Email || \"\",\r\n            address: data.Address || \"\",\r\n            avatar: finalAvatar,\r\n          };\r\n          setUserData(fetchedData);\r\n          setOriginalUserData(fetchedData);\r\n        } catch (error) {\r\n          setErrorMessage(error.message);\r\n        }\r\n      } else {\r\n        setErrorMessage(\"No se encontró usuario en almacenamiento.\");\r\n      }\r\n    };\r\n    loadUser();\r\n  }, []);\r\n\r\n  // Manejo de los cambios en los inputs\r\n  const handleChange = (e) => {\r\n    const { name, value } = e.target;\r\n    setUserData((prev) => ({ ...prev, [name]: value }));\r\n  };\r\n\r\n  // Activa el modo edición sin disparar un submit (preventDefault por seguridad)\r\n  const handleEdit = (e) => {\r\n    e.preventDefault();\r\n    setEditMode(true);\r\n  };\r\n\r\n  // Cancela la edición, revierte los cambios y evita el comportamiento por defecto\r\n  const handleCancel = (e) => {\r\n    e.preventDefault();\r\n    setEditMode(false);\r\n    setUserData(originalUserData);\r\n    setErrorMessage(\"\");\r\n    setSuccessMessage(\"\");\r\n  };\r\n\r\n  // Enviar la actualización al backend (solo se procesa en modo edición)\r\n  const handleSubmit = async (e) => {\r\n    e.preventDefault();\r\n    if (!editMode) return; // Evita que se dispare el submit si no estamos editando\r\n\r\n    setLoading(true);\r\n    setErrorMessage(\"\");\r\n    setSuccessMessage(\"\");\r\n\r\n    const storedUser = localStorage.getItem(\"user\");\r\n    if (!storedUser) {\r\n      setErrorMessage(\"No se encontró el usuario en almacenamiento.\");\r\n      setLoading(false);\r\n      return;\r\n    }\r\n    const user = JSON.parse(storedUser);\r\n    const userId = user.id || user.Id_User;\r\n\r\n    // Objeto con los datos actualizados (ajusta los nombres según tu backend)\r\n    const updatedProfile = {\r\n      Name: userData.name,\r\n      Email: userData.email,\r\n      Address: userData.address,\r\n      avatar: userData.avatar,\r\n    };\r\n\r\n    try {\r\n      const response = await fetch(\r\n        `${config.API_URL}/api/edit-profile/${userId}`,\r\n        {\r\n          method: \"PUT\",\r\n          headers: { \"Content-Type\": \"application/json\" },\r\n          body: JSON.stringify(updatedProfile),\r\n        }\r\n      );\r\n\r\n      if (!response.ok) {\r\n        throw new Error(`Error actualizando perfil (Código: ${response.status})`);\r\n      }\r\n\r\n      const updatedUserData = await response.json();\r\n      // Normalizamos el usuario, asegurándonos de que la identificación esté en \"id\"\r\n      const normalizedUser = {\r\n        id: updatedUserData.id || updatedUserData.Id_User,\r\n        ...updatedUserData,\r\n      };\r\n\r\n      // Actualiza la copia original y guarda en localStorage\r\n      const newData = {\r\n        name: normalizedUser.Name || \"\",\r\n        email: normalizedUser.Email || \"\",\r\n        address: normalizedUser.Address || \"\",\r\n        avatar:\r\n          normalizedUser.avatar && normalizedUser.avatar !== \"\" && normalizedUser.avatar !== \"undefined\"\r\n            ? normalizedUser.avatar\r\n            : `${config.API_URL}/uploads/avatars/7309681.jpg`,\r\n      };\r\n      setOriginalUserData(newData);\r\n      setUserData(newData);\r\n      localStorage.setItem(\"user\", JSON.stringify(normalizedUser));\r\n      setSuccessMessage(\"Perfil actualizado correctamente.\");\r\n      setEditMode(false);\r\n      setLoading(false);\r\n\r\n      setTimeout(() => {\r\n        navigate(`/usuario/${normalizedUser.id}`);\r\n      }, 1500);\r\n    } catch (error) {\r\n      console.error(\"Error actualizando el perfil:\", error);\r\n      setErrorMessage(error.message);\r\n      setLoading(false);\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div className=\"edit-profile-container\">\r\n      <h2>Editar Perfil</h2>\r\n      {errorMessage && <p className=\"error-message\">{errorMessage}</p>}\r\n      {successMessage && <p className=\"success-message\">{successMessage}</p>}\r\n      <form onSubmit={handleSubmit} className=\"edit-profile-form\">\r\n        <label>\r\n          Nombre:\r\n          <input\r\n            type=\"text\"\r\n            name=\"name\"\r\n            value={userData.name}\r\n            onChange={handleChange}\r\n            disabled={!editMode}\r\n            required\r\n          />\r\n        </label>\r\n        <label>\r\n          Email:\r\n          <input\r\n            type=\"email\"\r\n            name=\"email\"\r\n            value={userData.email}\r\n            onChange={handleChange}\r\n            disabled={!editMode}\r\n            required\r\n          />\r\n        </label>\r\n        <label>\r\n          Dirección:\r\n          <input\r\n            type=\"text\"\r\n            name=\"address\"\r\n            value={userData.address}\r\n            onChange={handleChange}\r\n            disabled={!editMode}\r\n          />\r\n        </label>\r\n        <label>\r\n          Avatar URL:\r\n          <input\r\n            type=\"text\"\r\n            name=\"avatar\"\r\n            value={userData.avatar}\r\n            onChange={handleChange}\r\n            disabled={!editMode}\r\n          />\r\n        </label>\r\n        <div className=\"avatar-preview\">\r\n          <img\r\n            src={userData.avatar}\r\n            alt=\"Vista previa del avatar\"\r\n          />\r\n        </div>\r\n        {!editMode ? (\r\n          <div className=\"action-buttons\">\r\n            <button type=\"button\" onClick={handleEdit}>\r\n              Editar\r\n            </button>\r\n          </div>\r\n        ) : (\r\n          <div className=\"action-buttons\">\r\n            <button type=\"submit\" disabled={loading}>\r\n              {loading ? \"Guardando...\" : \"Guardar Cambios\"}\r\n            </button>\r\n            <button type=\"button\" onClick={handleCancel}>\r\n              Cancelar\r\n            </button>\r\n          </div>\r\n        )}\r\n      </form>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default EditProfile;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}